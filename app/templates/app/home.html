{% extends 'base.html' %}
{% block title %}Pyscript Tags Analyzer{% endblock title %}

{% block active %} active{% endblock active %}

{% block content %}
<div class="col-md-8 p-4 text-white">       
    <h4 class="fst-italic">Select Your Language & See Resultsr</h4>
   
    <hr class="bg-light">
    <h1 class="display-4 fst-italic">Pick Your Favourite Language & Vote</h1>
  
    <form action="{% url 'vote' %}" method="GET">
        <div class="form-group">
            <input list="languages" required type="text" class="form-control" id="vote" name='q' value="{{value}}" placeholder="Select Your Language..........">
            <datalist id="languages">
               {% for eachlang in arr %}
               <option value="{{eachlang}}">
               {% endfor %}
            </datalist>
        </div>
        <button type="submit" class="btn btn-primary">Vote</button>
        <input type="reset" class="btn btn-danger" value="Reset">     
    </form> 
    
    <hr class="bg-light">

    <div class="row">
        <div class="col-md-12">
            <div class="jumbotron p-4">
                <p class="lead p-2 bg-success text-center"> <strong> Result </strong></p>
                <hr class="my-4">
                <p class="lead p-2 bg-warning text-center text-dark"><strong>Result Table</strong> </p>
               
                  <table class="table table-dark">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Language</th>
                        <th scope="col">Count</th>
                      </tr>
                    </thead>
                    <tbody>
                        {% for key, value in globalcnt.items %}
                      <tr>
                          <td>{{forloop.counter}}</td>
                        <td> <strong>{{key}}</strong> </td>
                        <td> 
       <div class="progress">
         <div class="progress-bar progress-bar-striped" role="progressbar" 
         style="width: {{value}}% " aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">
        {{value}}
        </div>
       </div>      
                        </td>
                      
                      </tr> 
                      {% endfor %}
                    </tbody>
                  </table>
               </p>
              </div>


        </div>
    </div>
    
 </div>
{% endblock content %}

